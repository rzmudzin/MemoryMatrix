# This is a basic workflow that is manually triggered

name: Secrets

# Controls when the action will run. Workflow runs when manually triggered using the UI
# or API.
on:
  workflow_dispatch:
    # # Inputs the workflow accepts.
    # inputs:
    #   name:
    #     # Friendly description to be shown in the UI instead of 'name'
    #     description: 'Person to greet'
    #     # Default value if no value is explicitly provided
    #     default: 'World'
    #     # Input has to be provided for the workflow to run
    #     required: true
    #     # The data type of the input
    #     type: string

# A workflow run is made up of one or more jobs that can run sequentially or in parallel
jobs:
  # This workflow contains a single job called "greet"
  exportvalues:
    # The type of runner that the job will run on
    runs-on: ubuntu-latest

    # Steps represent a sequence of tasks that will be executed as part of the job
    steps:
    # Runs a single command using the runners shell
    - name: export
      run: |
        #arr=("Hello" "World")
        ## Accessing elements
        #echo ${arr[0]} ${arr[1]}

        declare -a arr=("element1" "element2" "element3")

        ## now loop through the above array
        for i in "${arr[@]}"
        do
          echo "$i"
          # or do whatever with individual element of the array
        done

        secertVar="secrets.DESC"
        var="${{ !secretVar }}"
        varlen=${#var}
        #echo "Len: $varlen"
        echo DESC
        echo $var | cut -c2-$varlen
        echo $var | cut -c1-1
        echo
        echo  

        env_name=HOM
        env_name="${env_name}E"
        homeFolderPath="${!env_name}"
        printf 'Home: %s\n' "${homeFolderPath}"
        
        var=${{secrets.APP_STORE_CONNECT_API_ISSUER_ID}}
        varlen=${#var}
        #echo "Len: $varlen"
        echo APP_STORE_CONNECT_API_ISSUER_ID
        echo $var | cut -c2-$varlen
        echo $var | cut -c1-1
        echo
        echo

        var=${{secrets.APP_STORE_CONNECT_API_KEY}}
        varlen=${#var}
        #echo "Len: $varlen"
        echo APP_STORE_CONNECT_API_KEY
        echo $var | cut -c2-$varlen
        echo $var | cut -c1-1
        echo
        echo       
